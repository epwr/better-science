<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Package: internal/cpu</title>
<link href="../../css/auto-v0.6.6.css" rel="stylesheet">
<script src="../../jvs/golds-v0.6.6.js"></script>
<body onload="onPageLoad()"><div>

<pre id="package-details"><code><span style="font-size:xx-large;">package <b>cpu</b></span>

<span class="title">Import Path</span>
	<a href="../../index.html#pkg-internal/cpu">internal/cpu</a><i> (on <a href="https://pkg.go.dev/internal/cpu" target="_blank">go.dev</a>)</i>

<span class="title">Dependency Relation</span>
	imports 0 packages, and imported by <a href="../../dep/internal/cpu.html#imported-by">3 packages</a>

<div id="files"><span class="title">Involved Source Files</span>

	<input type='checkbox' checked class="fold" id="file-0-fold-content"><label for="file-0-fold-content">  <a href="../../src/internal/cpu/cpu.go.html#doc">d</a> <a href="../../src/internal/cpu/cpu.go.html">cpu.go</a></label><span id='file-0-fold-content-items' class="fold-items">
<span class="md-text">		Package cpu implements processor feature detection
		used by the Go standard library.</span>
</span>
	<span class="nodocs">    <a href="../../src/internal/cpu/cpu_arm64.go.html">cpu_arm64.go</a></span>
	<span class="nodocs">    <a href="../../src/internal/cpu/cpu_arm64_darwin.go.html">cpu_arm64_darwin.go</a></span>
	<span class="nodocs">    <a href="../../src/internal/cpu/cpu_no_name.go.html">cpu_no_name.go</a></span>
	<span class="nodocs">    <a href="../../src/internal/cpu/cpu.s.html">cpu.s</a></span>
	<span class="nodocs">    <a href="../../src/internal/cpu/cpu_arm64.s.html">cpu_arm64.s</a></span></div>
<div id="exported-types"><span class="title">Package-Level Type Names<span class="title-stat"><i> (total 2, in which 1 is exported)</i></span></span>

<div id="exported-types-buttons" class="js-on">	/* sort exporteds by: <label id="sort-types-by-alphabet" class="button">alphabet</label> | <label id="sort-types-by-popularity" class="button">popularity</label> */</div><div class="anchor type-res" id="name-CacheLinePad" data-popularity="0">	<input type='checkbox' class="fold" id="CacheLinePad-fold-content"><label for="CacheLinePad-fold-content"> type <a href="../../src/internal/cpu/cpu.go.html#line-15">CacheLinePad</a> <i>(struct)</i></label><span id='CacheLinePad-fold-content-docs' class="fold-docs">
<span class="md-text">		CacheLinePad is used to pad structs to avoid false sharing.</span>

</span></div></div><div>	<input type='checkbox' class="showhide" id="unexported-typenames-showhide"><i><label for="unexported-typenames-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-typenames-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor type-res hidden" id="name-option" data-popularity="0">	<input type='checkbox' class="fold" id="option-fold-content"><label for="option-fold-content"> type <a href="../../src/internal/cpu/cpu.go.html#line-135">option</a> <i>(struct)</i></label><span id='option-fold-content-docs' class="fold-docs">
<span class="md-text">		Option names should be lower case. e.g. avx instead of AVX.</span>

		<input type='checkbox' class="fold" id="option-fold-fields"><label for="option-fold-fields">Fields (<i>total 4, all are exported</i>)</label><span id='option-fold-fields-items' class="fold-items"><span>
			<input type='checkbox' class="fold" id="option-fold-field-Enable"><label for="option-fold-field-Enable"><a href="../../src/internal/cpu/cpu.go.html#line-139">Enable</a> <i><a href="../builtin.html#name-bool">bool</a></i></label><span id='option-fold-field-Enable-docs' class="fold-docs">
<span class="md-text">				// whether feature should be enabled</span>
</span></span><span>
			<span class="nodocs"><a href="../../src/internal/cpu/cpu.go.html#line-137">Feature</a> <i>*<a href="../builtin.html#name-bool">bool</a></i></span></span><span>
			<span class="nodocs"><a href="../../src/internal/cpu/cpu.go.html#line-136">Name</a> <i><a href="../builtin.html#name-string">string</a></i></span></span><span>
			<input type='checkbox' class="fold" id="option-fold-field-Specified"><label for="option-fold-field-Specified"><a href="../../src/internal/cpu/cpu.go.html#line-138">Specified</a> <i><a href="../builtin.html#name-bool">bool</a></i></label><span id='option-fold-field-Specified-docs' class="fold-docs">
<span class="md-text">				// whether feature value was specified in GODEBUG</span>
</span></span></span>

</span></div></div>
<div id="exported-functions"><span class="title">Package-Level Functions<span class="title-stat"><i> (total 10, in which 2 are exported)</i></span></span>

<div class="anchor value-res" id="name-Initialize">	<input type='checkbox' class="fold" id="Initialize-fold-content"><label for="Initialize-fold-content"> func <a href="../../src/internal/cpu/cpu.go.html#line-123">Initialize</a>(env <a href="../builtin.html#name-string">string</a>)</label><span id='Initialize-fold-content-docs' class="fold-docs">
<span class="md-text">		Initialize examines the processor and sets the relevant variables above.
		This is called by the runtime package early in program initialization,
		before normal init functions are run. env is set by runtime if the OS supports
		cpu feature options in GODEBUG.</span>

</span></div><div class="anchor value-res" id="name-Name">	<input type='checkbox' class="fold" id="Name-fold-content"><label for="Name-fold-content"> func <a href="../../src/internal/cpu/cpu_no_name.go.html#line-15">Name</a>() <a href="../builtin.html#name-string">string</a></label><span id='Name-fold-content-docs' class="fold-docs">
<span class="md-text">		Name returns the CPU name given by the vendor
		if it can be read directly from memory or by CPU instructions.
		If the CPU name can not be determined an empty string is returned.
		
		Implementations that use the Operating System (e.g. sysctl or /sys/)
		to gather CPU information for display should be placed in internal/sysinfo.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-functions-showhide"><i><label for="unexported-functions-showhide" class="show-inline">/* 8 unexporteds ... */</label><label for="unexported-functions-showhide" class="hide-inline">/* 8 unexporteds: */</label></i><div class="anchor value-res hidden" id="name-doinit"><i>	<span class="nodocs"> func <a href="../../src/internal/cpu/cpu_arm64.go.html#line-9">doinit</a>()</span></i></div><div class="anchor value-res hidden" id="name-getisar0"><i>	<span class="nodocs"> func <a href="../../src/internal/cpu/cpu_arm64.go.html#line-26">getisar0</a>() <a href="../builtin.html#name-uint64">uint64</a></span></i></div><div class="anchor value-res hidden" id="name-getMIDR"><i>	<span class="nodocs"> func <a href="../../src/internal/cpu/cpu_arm64.go.html#line-28">getMIDR</a>() <a href="../builtin.html#name-uint64">uint64</a></span></i></div><div class="anchor value-res hidden" id="name-getsysctlbyname"><i>	<span class="nodocs"> func <a href="../../src/internal/cpu/cpu_arm64_darwin.go.html#line-24">getsysctlbyname</a>(name []<a href="../builtin.html#name-byte">byte</a>) (<a href="../builtin.html#name-int32">int32</a>, <a href="../builtin.html#name-int32">int32</a>)</span></i></div><div class="anchor value-res hidden" id="name-indexByte"><i>	<input type='checkbox' class="fold" id="indexByte-fold-content"><label for="indexByte-fold-content"> func <a href="../../src/internal/cpu/cpu.go.html#line-214">indexByte</a>(s <a href="../builtin.html#name-string">string</a>, c <a href="../builtin.html#name-byte">byte</a>) <a href="../builtin.html#name-int">int</a></label><span id='indexByte-fold-content-docs' class="fold-docs">
<span class="md-text">		indexByte returns the index of the first instance of c in s,
		or -1 if c is not present in s.</span>

</span></i></div><div class="anchor value-res hidden" id="name-osInit"><i>	<span class="nodocs"> func <a href="../../src/internal/cpu/cpu_arm64_darwin.go.html#line-9">osInit</a>()</span></i></div><div class="anchor value-res hidden" id="name-processOptions"><i>	<input type='checkbox' class="fold" id="processOptions-fold-content"><label for="processOptions-fold-content"> func <a href="../../src/internal/cpu/cpu.go.html#line-148">processOptions</a>(env <a href="../builtin.html#name-string">string</a>)</label><span id='processOptions-fold-content-docs' class="fold-docs">
<span class="md-text">		processOptions enables or disables CPU feature values based on the parsed env string.
		The env string is expected to be of the form cpu.feature1=value1,cpu.feature2=value2...
		where feature names is one of the architecture specific list stored in the
		cpu packages options variable and values are either 'on' or 'off'.
		If env contains cpu.all=off then all cpu features referenced through the options
		variable are disabled. Other feature names and values result in warning messages.</span>

</span></i></div><div class="anchor value-res hidden" id="name-sysctlEnabled"><i>	<span class="nodocs"> func <a href="../../src/internal/cpu/cpu_arm64_darwin.go.html#line-26">sysctlEnabled</a>(name []<a href="../builtin.html#name-byte">byte</a>) <a href="../builtin.html#name-bool">bool</a></span></i></div></div>
<div id="exported-variables"><span class="title">Package-Level Variables<span class="title-stat"><i> (total 9, in which 8 are exported)</i></span></span>

<div class="anchor value-res" id="name-ARM">	<input type='checkbox' class="fold" id="ARM-fold-content"><label for="ARM-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-49">ARM</a> struct{_ <a href="#name-CacheLinePad">CacheLinePad</a>; HasVFPv4 <a href="../builtin.html#name-bool">bool</a>; HasIDIVA <a href="../builtin.html#name-bool">bool</a>; _ <a href="#name-CacheLinePad">CacheLinePad</a>}</label><span id='ARM-fold-content-docs' class="fold-docs">
<span class="md-text">		The booleans in ARM contain the correspondingly named cpu feature bit.
		The struct is padded to avoid false sharing.</span>

</span></div><div class="anchor value-res" id="name-ARM64">	<input type='checkbox' class="fold" id="ARM64-fold-content"><label for="ARM64-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-58">ARM64</a> struct{_ <a href="#name-CacheLinePad">CacheLinePad</a>; HasAES <a href="../builtin.html#name-bool">bool</a>; HasPMULL <a href="../builtin.html#name-bool">bool</a>; HasSHA1 <a href="../builtin.html#name-bool">bool</a>; HasSHA2 <a href="../builtin.html#name-bool">bool</a>; HasCRC32 <a href="../builtin.html#name-bool">bool</a>; HasATOMICS <a href="../builtin.html#name-bool">bool</a>; HasCPUID <a href="../builtin.html#name-bool">bool</a>; IsNeoverseN1 <a href="../builtin.html#name-bool">bool</a>; IsZeus <a href="../builtin.html#name-bool">bool</a>; _ <a href="#name-CacheLinePad">CacheLinePad</a>}</label><span id='ARM64-fold-content-docs' class="fold-docs">
<span class="md-text">		The booleans in ARM64 contain the correspondingly named cpu feature bit.
		The struct is padded to avoid false sharing.</span>

</span></div><div class="anchor value-res" id="name-CacheLineSize">	<input type='checkbox' class="fold" id="CacheLineSize-fold-content"><label for="CacheLineSize-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-20">CacheLineSize</a> <a href="../builtin.html#name-uintptr">uintptr</a></label><span id='CacheLineSize-fold-content-docs' class="fold-docs">
<span class="md-text">		CacheLineSize is the CPU's assumed cache line size.
		There is currently no runtime detection of the real cache line size
		so we use the constant per GOARCH CacheLinePadSize as an approximation.</span>

</span></div><div class="anchor value-res" id="name-DebugOptions">	<input type='checkbox' class="fold" id="DebugOptions-fold-content"><label for="DebugOptions-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-12">DebugOptions</a> <a href="../builtin.html#name-bool">bool</a></label><span id='DebugOptions-fold-content-docs' class="fold-docs">
<span class="md-text">		DebugOptions is set to true by the runtime if the OS supports reading
		GODEBUG early in runtime startup.
		This should not be changed after it is initialized.</span>

</span></div><div class="anchor value-res" id="name-MIPS64X">	<span class="nodocs">  var <a href="../../src/internal/cpu/cpu.go.html#line-72">MIPS64X</a> struct{_ <a href="#name-CacheLinePad">CacheLinePad</a>; HasMSA <a href="../builtin.html#name-bool">bool</a>; _ <a href="#name-CacheLinePad">CacheLinePad</a>}</span></div><div class="anchor value-res" id="name-PPC64">	<input type='checkbox' class="fold" id="PPC64-fold-content"><label for="PPC64-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-83">PPC64</a> struct{_ <a href="#name-CacheLinePad">CacheLinePad</a>; HasDARN <a href="../builtin.html#name-bool">bool</a>; HasSCV <a href="../builtin.html#name-bool">bool</a>; IsPOWER8 <a href="../builtin.html#name-bool">bool</a>; IsPOWER9 <a href="../builtin.html#name-bool">bool</a>; IsPOWER10 <a href="../builtin.html#name-bool">bool</a>; _ <a href="#name-CacheLinePad">CacheLinePad</a>}</label><span id='PPC64-fold-content-docs' class="fold-docs">
<span class="md-text">		For ppc64(le), it is safe to check only for ISA level starting on ISA v3.00,
		since there are no optional categories. There are some exceptions that also
		require kernel support to work (darn, scv), so there are feature bits for
		those as well. The minimum processor requirement is POWER8 (ISA 2.07).
		The struct is padded to avoid false sharing.</span>

</span></div><div class="anchor value-res" id="name-S390X">	<span class="nodocs">  var <a href="../../src/internal/cpu/cpu.go.html#line-93">S390X</a> struct{_ <a href="#name-CacheLinePad">CacheLinePad</a>; HasZARCH <a href="../builtin.html#name-bool">bool</a>; HasSTFLE <a href="../builtin.html#name-bool">bool</a>; HasLDISP <a href="../builtin.html#name-bool">bool</a>; HasEIMM <a href="../builtin.html#name-bool">bool</a>; HasDFP <a href="../builtin.html#name-bool">bool</a>; HasETF3EH <a href="../builtin.html#name-bool">bool</a>; HasMSA <a href="../builtin.html#name-bool">bool</a>; HasAES <a href="../builtin.html#name-bool">bool</a>; HasAESCBC <a href="../builtin.html#name-bool">bool</a>; HasAESCTR <a href="../builtin.html#name-bool">bool</a>; HasAESGCM <a href="../builtin.html#name-bool">bool</a>; HasGHASH <a href="../builtin.html#name-bool">bool</a>; HasSHA1 <a href="../builtin.html#name-bool">bool</a>; HasSHA256 <a href="../builtin.html#name-bool">bool</a>; HasSHA512 <a href="../builtin.html#name-bool">bool</a>; HasSHA3 <a href="../builtin.html#name-bool">bool</a>; HasVX <a href="../builtin.html#name-bool">bool</a>; HasVXE <a href="../builtin.html#name-bool">bool</a>; HasKDSA <a href="../builtin.html#name-bool">bool</a>; HasECDSA <a href="../builtin.html#name-bool">bool</a>; HasEDDSA <a href="../builtin.html#name-bool">bool</a>; _ <a href="#name-CacheLinePad">CacheLinePad</a>}</span></div><div class="anchor value-res" id="name-X86">	<input type='checkbox' class="fold" id="X86-fold-content"><label for="X86-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-26">X86</a> struct{_ <a href="#name-CacheLinePad">CacheLinePad</a>; HasAES <a href="../builtin.html#name-bool">bool</a>; HasADX <a href="../builtin.html#name-bool">bool</a>; HasAVX <a href="../builtin.html#name-bool">bool</a>; HasAVX2 <a href="../builtin.html#name-bool">bool</a>; HasBMI1 <a href="../builtin.html#name-bool">bool</a>; HasBMI2 <a href="../builtin.html#name-bool">bool</a>; HasERMS <a href="../builtin.html#name-bool">bool</a>; HasFMA <a href="../builtin.html#name-bool">bool</a>; HasOSXSAVE <a href="../builtin.html#name-bool">bool</a>; HasPCLMULQDQ <a href="../builtin.html#name-bool">bool</a>; HasPOPCNT <a href="../builtin.html#name-bool">bool</a>; HasRDTSCP <a href="../builtin.html#name-bool">bool</a>; HasSSE3 <a href="../builtin.html#name-bool">bool</a>; HasSSSE3 <a href="../builtin.html#name-bool">bool</a>; HasSSE41 <a href="../builtin.html#name-bool">bool</a>; HasSSE42 <a href="../builtin.html#name-bool">bool</a>; _ <a href="#name-CacheLinePad">CacheLinePad</a>}</label><span id='X86-fold-content-docs' class="fold-docs">
<span class="md-text">		The booleans in X86 contain the correspondingly named cpuid feature bit.
		HasAVX and HasAVX2 are only set if the OS does support XMM and YMM registers
		in addition to the cpuid feature bit being set.
		The struct is padded to avoid false sharing.</span>

</span></div>	<input type='checkbox' class="showhide" id="unexported-variables-showhide"><i><label for="unexported-variables-showhide" class="show-inline">/* one unexported ... */</label><label for="unexported-variables-showhide" class="hide-inline">/* one unexported: */</label></i><div class="anchor value-res hidden" id="name-options"><i>	<input type='checkbox' class="fold" id="options-fold-content"><label for="options-fold-content">  var <a href="../../src/internal/cpu/cpu.go.html#line-132">options</a> []<a href="#name-option">option</a></label><span id='options-fold-content-docs' class="fold-docs">
<span class="md-text">		options contains the cpu debug options that can be used in GODEBUG.
		Options are arch dependent and are added by the arch specific doinit functions.
		Features that are mandatory for the specific GOARCH should not be added to options
		(e.g. SSE2 on amd64).</span>

</span></i></div></div>
<div id="exported-constants"><span class="title">Package-Level Constants<span class="title-stat"><i> (only one, which is exported)</i></span></span>

<div class="anchor value-res" id="name-CacheLinePadSize">	<span class="nodocs">const <a href="../../src/internal/cpu/cpu_arm64.go.html#line-7">CacheLinePadSize</a> = 64</span></div></div></code></pre><pre id="footer">
<table><tr><td><img src="../../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/apps-and-libs/golds.html"><b>Golds</b></a> <i>v0.6.6</i>. (GOOS=darwin GOARCH=arm64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table></pre>